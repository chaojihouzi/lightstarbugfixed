-- ===== ä¿®å¤ç‰ˆå®Œæ•´è„šæœ¬ï¼ˆå«è°ƒè¯•+æç¤ºï¼‰=====
-- 1. ç­‰å¾…LocalPlayeråŠ è½½ï¼ˆé¿å…è¿‡æ—©æ‰§è¡ŒæŠ¥é”™ï¼‰
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer or Players:WaitForChild("LocalPlayer", 10)
if not LocalPlayer then
    warn("LocalPlayeråŠ è½½å¤±è´¥ï¼")
    return
end

-- =====é»‘åå•=====
local blacklist = {"mmnnn185", "mmnnn958", "insano_waza6274"}
if table.find(blacklist, LocalPlayer.Name) then
    LocalPlayer:Kick("æ‚¨è¢«è„šæœ¬ä½œè€…ç¦æ­¢ä½¿ç”¨äº† å¦‚æœæƒ³ä½¿ç”¨ è¯·æ‚¨å‘è„šæœ¬ä½œè€…è¯¢é—®")
    return
end

-- =====æœ¬åœ°å¡å¯†éªŒè¯=====
local Key = "GoodSolo1"  -- å¯è‡ªè¡Œä¿®æ”¹å¡å¯†
local correctKey = "GoodSolo1"

-- å»ç©ºæ ¼å¤„ç†
local cleanedCorrectKey = correctKey:gsub("%s+", "")
local cleanedKey = Key:gsub("%s+", "")

-- å¡å¯†éªŒè¯å¤±è´¥åˆ™è¸¢å‡º
if cleanedKey ~= cleanedCorrectKey then    
    LocalPlayer:Kick("Solo1ğŸ‘¿PlayerğŸ‘¿")
    return
end
warn("âœ… å¡å¯†éªŒè¯æˆåŠŸï¼")

-- =====NolsakenåŠ è½½åŠ¨ç”»=====
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local StarterGui = game:GetService("StarterGui")

-- åˆ›å»ºä¸»å±å¹•GUI
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui", 10)
local gui = Instance.new("ScreenGui")
gui.Name = "WenDing_Full_Loader_WhiteParticles"
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.Parent = PlayerGui

-- =====é»‘è‰²èƒŒæ™¯å¹•å¸ƒä¸ç™½è‰²èƒŒæ™¯ç²’å­=====
local blackBackground = Instance.new("Frame")
blackBackground.Name = "BlackBackground"
blackBackground.Size = UDim2.new(1, 0, 1, 0)
blackBackground.BackgroundColor3 = Color3.new(0, 0, 0)
blackBackground.BackgroundTransparency = 1
blackBackground.ZIndex = 1
blackBackground.Parent = gui

-- ç™½è‰²ç²’å­å®¹å™¨
local bgParticleContainer = Instance.new("Frame")
bgParticleContainer.Name = "WhiteParticleContainer"
bgParticleContainer.Size = UDim2.new(1, 0, 1, 0)
bgParticleContainer.BackgroundTransparency = 1
bgParticleContainer.ClipsDescendants = true
bgParticleContainer.ZIndex = 2
bgParticleContainer.Parent = blackBackground

-- åˆ›å»ºç™½è‰²å°ç²’å­
local whiteParticles = {}
local whiteParticleCount = 40 -- ç™½è‰²ç²’å­æ•°é‡

for i = 1, whiteParticleCount do
    local particle = Instance.new("Frame")
    particle.Name = "WhiteParticle_"..i
    particle.AnchorPoint = Vector2.new(0.5, 0.5)
    particle.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- çº¯ç™½è‰²
    particle.Size = UDim2.new(0, math.random(2, 5), 0, math.random(2, 5))
    particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
    particle.BackgroundTransparency = 1
    particle.ZIndex = 2
    particle.Parent = bgParticleContainer
    
    local particleCorner = Instance.new("UICorner")
    particleCorner.CornerRadius = UDim.new(1, 0)
    particleCorner.Parent = particle
    
    whiteParticles[i] = {
        element = particle,
        xSpeed = (math.random() - 0.5) * 0.15,
        ySpeed = (math.random() - 0.5) * 0.15,
        scale = 0.5 + math.random() * 0.5,
        alpha = 0.2 + math.random() * 0.3
    }
end

-- =====Nolsakenå­—å¹•åŠ¨ç”»=====
local SubtitleText = Instance.new("TextLabel")
SubtitleText.Name = "NOLText"
SubtitleText.AnchorPoint = Vector2.new(0.5, 0.5)
SubtitleText.Position = UDim2.new(0.5, 0, 0.5, 0)
SubtitleText.Size = UDim2.new(0, 0, 0, 80)
SubtitleText.BackgroundTransparency = 1
SubtitleText.Font = Enum.Font.GothamBold
SubtitleText.Text = "Nolsaken PRESENTS"
SubtitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
SubtitleText.TextSize = 36
SubtitleText.TextTransparency = 1
SubtitleText.TextWrapped = true
SubtitleText.ZIndex = 10
SubtitleText.Parent = gui

-- =====ä¸»åŠ è½½UI=====
local container = Instance.new("Frame")
container.Name = "MainContainer"
container.AnchorPoint = Vector2.new(0.5, 0.5)
container.BackgroundColor3 = Color3.fromRGB(30, 20, 50)
container.BackgroundTransparency = 1
container.Position = UDim2.new(0.5, 0, 0.5, 0)
container.Size = UDim2.new(0, 350, 0, 250)
container.ZIndex = 20
container.Parent = gui

-- åœ†è§’æ•ˆæœ
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0.08, 0)
uiCorner.Parent = container

-- è¾¹æ¡†å‘å…‰æ•ˆæœ
local uiStroke = Instance.new("UIStroke")
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
uiStroke.Color = Color3.fromRGB(120, 80, 180)
uiStroke.Transparency = 1
uiStroke.Thickness = 2
uiStroke.Parent = container

-- ä¸»æ ‡é¢˜
local title = Instance.new("TextLabel")
title.Name = "Title"
title.AnchorPoint = Vector2.new(0.5, 0)
title.BackgroundTransparency = 1
title.Position = UDim2.new(0.5, 0, 0.1, 0)
title.Size = UDim2.new(0.8, 0, 0, 60)
title.Font = Enum.Font.SciFi
title.Text = "LightStar"
title.TextColor3 = Color3.fromRGB(180, 140, 255)
title.TextScaled = true
title.TextSize = 28
title.TextStrokeColor3 = Color3.fromRGB(80, 40, 120)
title.TextStrokeTransparency = 1
title.TextTransparency = 1
title.TextWrapped = true
title.ZIndex = 21
title.Parent = container

-- æ ‡é¢˜ä¸‹åˆ’çº¿
local underline = Instance.new("Frame")
underline.Name = "Underline"
underline.AnchorPoint = Vector2.new(0.5, 0)
underline.BackgroundColor3 = Color3.fromRGB(150, 100, 220)
underline.BorderSizePixel = 0
underline.Position = UDim2.new(0.5, 0, 0.35, 0)
underline.Size = UDim2.new(0, 0, 0, 2)
underline.ZIndex = 21
underline.Parent = container

-- å‰æ™¯ç²’å­å®¹å™¨ï¼ˆå½©è‰²ç²’å­ï¼‰
local particleContainer = Instance.new("Frame")
particleContainer.Name = "ParticleContainer"
particleContainer.AnchorPoint = Vector2.new(0.5, 0.5)
particleContainer.BackgroundTransparency = 1
particleContainer.Position = UDim2.new(0.5, 0, 0.5, 0)
particleContainer.Size = UDim2.new(1, 0, 0.5, 0)
particleContainer.ClipsDescendants = true
particleContainer.ZIndex = 21
particleContainer.Parent = container

-- åˆ›å»ºå‰æ™¯å½©è‰²ç²’å­
local particles = {}
local particleCount = 18

for i = 1, particleCount do
    local particle = Instance.new("Frame")
    particle.Name = "Particle_"..i
    particle.AnchorPoint = Vector2.new(0.5, 0.5)
    particle.BackgroundColor3 = Color3.fromRGB(
        math.random(160, 200),
        math.random(120, 180),
        math.random(200, 255)
    )
    particle.Size = UDim2.new(0, math.random(4, 8), 0, math.random(4, 8))
    particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
    particle.BackgroundTransparency = 1
    particle.ZIndex = 21
    particle.Parent = particleContainer
    
    local particleCorner = Instance.new("UICorner")
    particleCorner.CornerRadius = UDim.new(1, 0)
    particleCorner.Parent = particle
    
    particles[i] = {
        element = particle,
        xSpeed = (math.random() - 0.5) * 0.4,
        ySpeed = (math.random() - 0.5) * 0.4,
        scale = 0.5 + math.random(),
        alpha = 0.3 + math.random() * 0.7
    }
end

-- åŠ è½½è¿›åº¦æ¡èƒŒæ™¯
local progressBarBg = Instance.new("Frame")
progressBarBg.Name = "ProgressBarBg"
progressBarBg.AnchorPoint = Vector2.new(0.5, 0)
progressBarBg.BackgroundColor3 = Color3.fromRGB(40, 30, 70)
progressBarBg.BackgroundTransparency = 1
progressBarBg.BorderSizePixel = 0
progressBarBg.Position = UDim2.new(0.5, 0, 0.8, 0)
progressBarBg.Size = UDim2.new(0.7, 0, 0, 8)
progressBarBg.ZIndex = 21
progressBarBg.Parent = container

local progressCorner = Instance.new("UICorner")
progressCorner.CornerRadius = UDim.new(0.5, 0)
progressCorner.Parent = progressBarBg

-- åŠ è½½è¿›åº¦æ¡å¡«å……
local progressFill = Instance.new("Frame")
progressFill.Name = "ProgressFill"
progressFill.AnchorPoint = Vector2.new(0, 0.5)
progressFill.BackgroundColor3 = Color3.fromRGB(160, 120, 255)
progressFill.BorderSizePixel = 0
progressFill.Position = UDim2.new(0, 0, 0.5, 0)
progressFill.Size = UDim2.new(0, 0, 1, 0)
progressFill.ZIndex = 22
progressFill.Parent = progressBarBg

local fillCorner = Instance.new("UICorner")
fillCorner.CornerRadius = UDim.new(0.5, 0)
fillCorner.Parent = progressFill

-- è¿›åº¦æ¡å‘å…‰æ•ˆæœ
local fillGlow = Instance.new("UIStroke")
fillGlow.Color = Color3.fromRGB(200, 180, 255)
fillGlow.Thickness = 1
fillGlow.Transparency = 1
fillGlow.Parent = progressFill

-- ç™¾åˆ†æ¯”æ–‡æœ¬
local percentText = Instance.new("TextLabel")
percentText.Name = "PercentText"
percentText.AnchorPoint = Vector2.new(0.5, 0)
percentText.BackgroundTransparency = 1
percentText.Position = UDim2.new(0.5, 0, 0.88, 0)
percentText.Size = UDim2.new(0, 200, 0, 30)
percentText.Font = Enum.Font.SciFi
percentText.Text = "0%"
percentText.TextColor3 = Color3.fromRGB(200, 180, 255)
percentText.TextSize = 18
percentText.TextTransparency = 1
percentText.TextWrapped = true
percentText.ZIndex = 21
percentText.Parent = container

-- =====åŠ¨ç”»å‡½æ•°=====
-- æ›´æ–°ç™½è‰²èƒŒæ™¯ç²’å­
local function updateWhiteParticles()
    for i, particle in ipairs(whiteParticles) do
        local currentPos = particle.element.Position
        local newX = (currentPos.X.Scale + particle.xSpeed * 0.016) % 1
        local newY = (currentPos.Y.Scale + particle.ySpeed * 0.016) % 1
        
        particle.element.Position = UDim2.new(newX, 0, newY, 0)
        
        local flicker = math.sin(os.clock() * 3 + i) * 0.1
        particle.element.BackgroundTransparency = 1 - (particle.alpha + flicker * 0.1)
    end
end

-- æ›´æ–°å‰æ™¯å½©è‰²ç²’å­
local function updateParticles()
    for i, particle in ipairs(particles) do
        local currentPos = particle.element.Position
        local newX = (currentPos.X.Scale + particle.xSpeed * 0.016) % 1
        local newY = (currentPos.Y.Scale + particle.ySpeed * 0.016) % 1
        
        particle.element.Position = UDim2.new(newX, 0, newY, 0)
        
        local scale = particle.scale + math.sin(os.clock() * 2 + i) * 0.1
        particle.element.Size = UDim2.new(0, 6 * scale, 0, 6 * scale)
        
        particle.element.BackgroundTransparency = 1 - particle.alpha * (0.7 + math.sin(os.clock() * 3 + i) * 0.3)
    end
end

-- è¿›åº¦æ¡åŠ¨ç”»
local progress = 0
local loadingComplete = false
local function updateProgress()
    if loadingComplete then return end
    
    progress = progress + 0.003
    if progress >= 1 then
        progress = 1
        loadingComplete = true
    end
    
    progressFill.Size = UDim2.new(progress, 0, 1, 0)
    percentText.Text = string.format("%d%%", math.floor(progress * 100))
    
    fillGlow.Transparency = 0.5 + math.abs(math.sin(os.clock() * 5)) * 0.3
end

-- Nolsakenå­—å¹•åŠ¨ç”»
local function playNOLAnimation()
    warn("ğŸ¬ å¼€å§‹æ’­æ”¾åŠ è½½åŠ¨ç”»ï¼")
    -- é»‘è‰²èƒŒæ™¯æ·¡å…¥
    TweenService:Create(
        blackBackground,
        TweenInfo.new(1.2, Enum.EasingStyle.Quad),
        {BackgroundTransparency = 0.7}
    ):Play()
    
    -- ç™½è‰²ç²’å­æ·¡å…¥
    for i, particle in ipairs(whiteParticles) do
        task.delay(i * 0.05, function()
            TweenService:Create(
                particle.element,
                TweenInfo.new(1.5, Enum.EasingStyle.Quad),
                {BackgroundTransparency = 1 - particle.alpha}
            ):Play()
        end)
    end
    
    task.wait(0.8)
    
    -- Nolsakenæ–‡å­—åŠ¨ç”»
    local widthTween = TweenService:Create(
        SubtitleText,
        TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
        {Size = UDim2.new(0, 300, 0, 80)}
    )
    
    local fadeTween = TweenService:Create(
        SubtitleText,
        TweenInfo.new(0.8, Enum.EasingStyle.Quad),
        {TextTransparency = 0}
    )
    
    widthTween:Play()
    fadeTween:Play()
    
    task.wait(1.8)
    
    -- æ–‡å­—æ·¡å‡º
    local fadeOutTween = TweenService:Create(
        SubtitleText,
        TweenInfo.new(0.8, Enum.EasingStyle.Quad),
        {TextTransparency = 1}
    )
    
    local shrinkTween = TweenService:Create(
        SubtitleText,
        TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.In),
        {Size = UDim2.new(0, 0, 0, 80)}
    )
    
    fadeOutTween:Play()
    shrinkTween:Play()
    
    task.wait(0.8)
    
    -- ä¸»UIæ·¡å…¥
    TweenService:Create(
        container,
        TweenInfo.new(0.8, Enum.EasingStyle.Quad),
        {BackgroundTransparency = 0.2}
    ):Play()
    
    -- è¾¹æ¡†å‘å…‰æ·¡å…¥
    TweenService:Create(
        uiStroke,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {Transparency = 0.3}
    ):Play()
    
    -- æ ‡é¢˜æ·¡å…¥
    TweenService:Create(
        title,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {TextTransparency = 0, TextStrokeTransparency = 0.6}
    ):Play()
    
    -- ä¸‹åˆ’çº¿å±•å¼€
    TweenService:Create(
        underline,
        TweenInfo.new(0.8, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
        {Size = UDim2.new(0.5, 0, 0, 2)}
    ):Play()
    
    -- è¿›åº¦æ¡èƒŒæ™¯æ·¡å…¥
    TweenService:Create(
        progressBarBg,
        TweenInfo.new(0.8, Enum.EasingStyle.Quad),
        {BackgroundTransparency = 0}
    ):Play()
    
    -- è¿›åº¦æ¡å‘å…‰æ·¡å…¥
    TweenService:Create(
        fillGlow,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {Transparency = 0.7}
    ):Play()
    
    -- ç™¾åˆ†æ¯”æ–‡æœ¬æ·¡å…¥
    TweenService:Create(
        percentText,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {TextTransparency = 0}
    ):Play()
    
    -- å‰æ™¯å½©è‰²ç²’å­æ·¡å…¥
    for i, particle in ipairs(particles) do
        task.delay(i * 0.05, function()
            TweenService:Create(
                particle.element,
                TweenInfo.new(0.8, Enum.EasingStyle.Quad),
                {BackgroundTransparency = 1 - particle.alpha}
            ):Play()
        end)
    end
    
    -- èƒŒæ™¯å˜æš—
    TweenService:Create(
        blackBackground,
        TweenInfo.new(0.8, Enum.EasingStyle.Quad),
        {BackgroundTransparency = 0.85}
    ):Play()
end

-- åŠ è½½å®ŒæˆåŠ¨ç”»
local function playCompleteAnimation()
    warn("âœ… åŠ è½½åŠ¨ç”»å®Œæˆï¼Œå¼€å§‹æ”¶å°¾ï¼")
    -- æ ‡é¢˜å˜è‰²
    TweenService:Create(
        title,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {TextColor3 = Color3.fromRGB(220, 180, 255), TextStrokeColor3 = Color3.fromRGB(120, 80, 160)}
    ):Play()
    
    -- è¿›åº¦æ¡å˜è‰²
    TweenService:Create(
        progressFill,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {BackgroundColor3 = Color3.fromRGB(200, 160, 255)}
    ):Play()
    
    -- å‰æ™¯å½©è‰²ç²’å­åŠ é€Ÿå¹¶æ·¡å‡º
    for i, particle in ipairs(particles) do
        particle.xSpeed = particle.xSpeed * 3
        particle.ySpeed = particle.ySpeed * 3
        
        TweenService:Create(
            particle.element,
            TweenInfo.new(1, Enum.EasingStyle.Quad),
            {BackgroundTransparency = 1}
        ):Play()
    end
    
    -- ç™½è‰²èƒŒæ™¯ç²’å­æ·¡å‡º
    for i, particle in ipairs(whiteParticles) do
        TweenService:Create(
            particle.element,
            TweenInfo.new(1.5, Enum.EasingStyle.Quad),
            {BackgroundTransparency = 1}
        ):Play()
    end
    
    -- ç§»é™¤Nolsakenæ–‡å­—
    SubtitleText:Destroy()
    
    task.wait(1.2)
    
    -- ä¸»UIæ·¡å‡º
    TweenService:Create(
        container,
        TweenInfo.new(1, Enum.EasingStyle.Quad),
        {BackgroundTransparency = 1}
    ):Play()
    
    -- èƒŒæ™¯æ·¡å‡º
    TweenService:Create(
        blackBackground,
        TweenInfo.new(1.5, Enum.EasingStyle.Quad),
        {BackgroundTransparency = 1}
    ):Play()
    
    -- å»¶è¿Ÿåé”€æ¯GUI
    task.wait(1.5)
    gui:Destroy()
    warn("ğŸ—‘ï¸ åŠ è½½UIå·²é”€æ¯ï¼Œå‡†å¤‡åŠ è½½æ¸¸æˆè„šæœ¬ï¼")
end

-- =====ä¸»å¾ªç¯=====
-- å¯åŠ¨åŠ è½½åŠ¨ç”»
playNOLAnimation()

-- ä¸»æ¸²æŸ“å¾ªç¯
local renderConnection = RunService.RenderStepped:Connect(function()
    updateWhiteParticles()
    updateParticles()
    updateProgress()
end)

-- æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
while not loadingComplete do
    task.wait(0.05)
end
renderConnection:Disconnect() -- åœæ­¢æ¸²æŸ“å¾ªç¯

-- åŠ è½½å®ŒæˆåŠ¨ç”»
playCompleteAnimation()
task.wait(1.5)

-- =====æ¸¸æˆåˆ—è¡¨é€»è¾‘ï¼ˆæ ¸å¿ƒä¿®å¤+è°ƒè¯•ï¼‰=====
warn("ğŸ” å¼€å§‹æ£€æŸ¥æ¸¸æˆåˆ—è¡¨ï¼")
local currentGameId = game.GameId
warn("ğŸ“Œ å½“å‰æ¸¸æˆGameIdï¼š" .. tostring(currentGameId))

-- æ¸¸æˆåˆ—è¡¨ï¼ˆå¯è‡ªè¡Œæ›¿æ¢/æ·»åŠ GameIdå’Œè„šæœ¬é“¾æ¥ï¼‰
local GameList = {
    [6331902150] = "https://raw.githubusercontent.com/javaKL666/LightStar/refs/heads/main/LightStar-Forsaken.lua", -- è¢«é—å¼ƒForsaken
    [7344582593] = "https://raw.githubusercontent.com/javaKL666/LightStar/refs/heads/main/LightStar-DieOfDeath.lua", -- æ­»äº¡ä¹‹æ­»DieOfDeath
    [5677613211] = "https://raw.githubusercontent.com/javaKL666/LightStar/refs/heads/main/LightStar-EatTheWorld.lua"  -- åƒæ‰ä¸–ç•ŒEatTheworld
}

_G.HoHoLoaded = true

-- æ£€æŸ¥GameIdæ˜¯å¦åœ¨åˆ—è¡¨ä¸­
if GameList[currentGameId] then
    warn("âœ… æ‰¾åˆ°åŒ¹é…çš„GameIdï¼Œå¼€å§‹åŠ è½½å¤–éƒ¨è„šæœ¬ï¼")
    -- å°è¯•åŠ è½½å¤–éƒ¨è„šæœ¬ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
    local success, err = pcall(function()
        local scriptContent = game:HttpGet(GameList[currentGameId])
        loadstring(scriptContent)()
    end)
    if success then
        StarterGui:SetCore("SendNotification", {
            Title = "LightStar-æˆåŠŸ",
            Text = "è„šæœ¬åŠ è½½å®Œæˆï¼å½“å‰æ¸¸æˆï¼š" .. tostring(currentGameId),
            Duration = 8
        })
    else
        warn("âŒ å¤–éƒ¨è„šæœ¬åŠ è½½å¤±è´¥ï¼š" .. tostring(err))
        StarterGui:SetCore("SendNotification", {
            Title = "LightStar-é”™è¯¯",
            Text = "è„šæœ¬åŠ è½½å¤±è´¥ï¼š" .. tostring(err),
            Duration = 10
        })
    end
else
    warn("âŒ å½“å‰GameIdä¸åœ¨æ”¯æŒåˆ—è¡¨ä¸­ï¼")
    -- å¼¹å‡ºæ˜ç¡®æç¤ºï¼ˆå«å½“å‰GameIdï¼‰
    StarterGui:SetCore("SendNotification", {
        Title = "LightStar-æç¤º",
        Text = "å½“å‰æ¸¸æˆIDï¼š" .. tostring(currentGameId) .. "\nä¸åœ¨æ”¯æŒåˆ—è¡¨ä¸­ï¼\næ”¯æŒçš„IDï¼š6331902150ã€7344582593ã€5677613211",
        Duration = 15
    })
end
